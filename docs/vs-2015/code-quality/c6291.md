---
title: C6291 | Microsoft-Dokumentation
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-code-analysis
ms.topic: reference
f1_keywords:
- C6291
helpviewer_keywords:
- C6291
ms.assetid: d0457386-e403-43fa-b959-5b6a495fab42
caps.latest.revision: 16
author: corob-msft
ms.author: corob
manager: jillfra
ms.openlocfilehash: 835bc16493b5d15595725a5b4a406b960f94b9b0
ms.sourcegitcommit: 6cfffa72af599a9d667249caaaa411bb28ea69fd
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/02/2020
ms.locfileid: "77274629"
---
# <a name="c6291"></a>C6291
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Warnung C6291: bitweise Operation auf logischem Ergebnis:! hat Vorrang vor &#124;. Verwenden Sie &#124;&#124; oder (! ( x &#124; y))  
  
 Der `!` -Operator gibt ein boolesches Ergebnis aus, und der `|` (bitweise OR)-Operator übernimmt zwei arithmetische Argumente. Der `!` Operator hat auch eine höhere Rangfolge als `|` .  
  
 Daher wird einer der folgenden Fehler erkannt:  
  
- Der Ausdruck ist falsch in Klammern:  
  
   Da das Ergebnis von `!` boolescher Wert (0 (null) oder eins) ist, wird beim Versuch, diese zwei Variablen festzulegen, nur dann getestet, dass das niedrigste Bit auf der rechten Seite vorhanden ist: `((!x) | y) != (!(x | y))` wann `x == 0` und `y == 1` .  
  
- Der `!` Operator ist falsch und sollte stattdessen eine sein `~` :  
  
   Der `!` Operator hat ein boolesches Ergebnis, aber der `~` Operator hat ein arithmetisches Ergebnis. Diese Operatoren sind nie austauschbar, auch wenn Sie auf einem booleschen Wert (0 (null) oder einem) ausgeführt werden: `((!x) | y) != ((~x) | y)` bei `x == 1` und `y == 0` .  
  
- Der binäre Operator `|` ist falsch und sollte stattdessen lauten `||` :  
  
   Obwohl `|` manchmal mit ausgetauscht werden kann `||` , ist es nicht äquivalent, da es die Auswertung der rechten Seite des Ausdrucks erzwingt. Bestimmte Nebeneffekte in dieser Art von Ausdruck können das Terminal sein: `(!p | (*p == '\0'))` , wann `p == NULL` muss eine Dereferenzierung erfolgen, um die andere Hälfte des Ausdrucks auszuwerten.  
  
  Diese Warnung wird nicht gemeldet, wenn `!` sich der Operator auf der rechten Seite des `|` Operators befindet, da dieser Fall in der Regel nur der relativ harmlose Fall eines falschen Operators ist.  
  
  Es ist schwierig, den Schweregrad dieses Problems zu beurteilen, ohne den Code zu untersuchen. Der Code muss überprüft werden, um sicherzustellen, dass der beabsichtigte Test stattfindet.  
  
  Diese Warnung weist immer auf mögliche Verwirrung bei der Verwendung einer Operator-oder Operator Rangfolge hin.  
  
## <a name="example"></a>Beispiel  
 Der folgende Code generiert diese Warnung:  
  
```  
void f(int x, int y )  
{  
  if (!x | y)  
  {  
    //code   
  }  
}  
```  
  
 Um diese Warnung zu korrigieren, verwenden Sie eine der Methoden, die im folgenden Code gezeigt werden:  
  
```  
void fC(int x, int y )  
{  
  /* When checking whether any bits are set in either x or y. */  
  if (!(x | y))  
  {  
    // code  
  }  
  /* When checking whether bits are set in either */  
  /* the complement of x or in y. */  
  if ((~x) | y)  
  {  
    // code  
  }  
}  
  
#include <windows.h>  
void f(int x, BOOL y )  
{  
  /* When y is a Boolean or Boolean result. */  
  if ((!x) || y)  
  {  
    // code  
  }  
}  
```
